<div class="container-fluid">
  <div class="jumbotron text-center">
    <i class="fas fa-times-circle close" (click)="back()"></i>
    <h1>Buy A Car</h1>
    <h5>Step 1: Calculate Purchasing Power</h5>
    <h6 *ngIf="!tagline" translate>The first step to buying a quality card is knowing what you can afford. The
      calculator below will help determine the vehicles<br />that you can afford. This gives you a highly accurate
      price range to use as the basis for a vehicle search.</h6>
    <h6 *ngIf="tagline" [innerHtml]="tagline | translate"></h6>
    <p translate>Use the sliders below to dial in the price range for your vehicle search. When finished, hit the
      search button to see all of the vehices we have which qualify.</p>
    <form #buyForm="ngForm">
      <div class="container-fluid d-flex flex-row align-items-center flex-wrap grow">
        <div *ngIf="dealerLogo" class="dealer-logo col-6 col-md-3">
          <img src="/assets/PoweredByQuoteproMax.png" width="80%" height="auto" />
        </div>
        <div *ngIf="dealerLogo" class="dealer-logo col-6 hide-md">
          <img src="/assets/{{ dealerLogo }}" width="50%" height="auto" />
        </div>
        <div class="sliders col-md-6">
          <div class="d-flex flex-lg-row flex-column flex-wrap col-12">
            <label class="col-lg-3" translate>Monthly Payment</label>
            <ng5-slider class="col-lg-9" [(value)]="model.monthlyPayment" [options]="installmentOptions" (userChange)="installmentAmountChanged()"></ng5-slider>
          </div>
          <div class="d-flex flex-lg-row flex-column flex-wrap col-12">
            <label class="col-lg-3" translate>Down Payment</label>
            <ng5-slider class="col-lg-9" [(value)]="model.downPayment" [options]="downOptions" (userChange)="downPaymentChanged()"></ng5-slider>
          </div>
          <div class="d-flex flex-lg-row flex-column flex-wrap col-12">
            <label class="col-lg-3" translate>Loan Length</label>
            <ng5-slider class="col-lg-9" [(value)]="model.loanLength" [options]="lengthOptions" (userChange)="loanLengthChanged()"></ng5-slider>
          </div>
          <div *ngIf="false && model.advanced" class="d-flex flex-lg-row flex-column flex-wrap col-12">
            <label class="col-lg-3" translate>Credit Score</label>
            <ng5-slider class="col-lg-9" [(value)]="model.creditScore" [options]="scoreOptions" (userChange)="creditScoreChanged()"></ng5-slider>
          </div>
        </div>
        <div *ngIf="dealerLogo" class="dealer-logo col-3 hidden visible-md">
          <img src="/assets/{{ dealerLogo }}" width="80%" height="auto" />
        </div>
      </div>
    </form>
    <hr>
    <div class="d-flex flex-column flex-sm-row flex-wrap align-items-center justify-content-center">
      <div class="d-flex flex-column flex-sm-row flex-wrap align-items-center col-md-6 col-lg-5 col-xl-4">
        <p class="col-md-12"><button (click)="continue(1)" class="btn btn-2x btn-success d-flex flex-row flex-wrap align-items-center">
            <img src="/assets/smart-payment-plan.png" width="50%" height="auto" />
            <div class="auto-pay h4">View Matching Vehicles</div>&nbsp;<i class="fas fa-chevron-right"></i>
          </button></p>
        <div class="h5 col-sm-6 right">Weekly Payment:</div>
        <div class="h5 col-sm-6 col-xl-4 right">{{ model.weeklyPayment | currency }}</div>
        <div class="h5 col-sm-6 right">Purchasing Power<sup>*</sup>:</div>
        <div class="h5 col-sm-6 col-xl-4 right">{{ model.biWeeklyPurchasePower | currency }}</div>
        <div class="h6 col-12 left mt-10">Contracted Term: {{ model.loanLength * 12 }} months</div>
        <div class="h6 col-12 left"><i class="fas fa-info-circle yellow" [ngbPopover]="ppBiWeeklyContent" popoverTitle="Weekly Advantage"></i>
          Effective Term: {{ model.effectiveTerm | number:'1.0-0' }} months</div>
        <div class="h6 col-12 left"># of Monthly Payments Saved: {{ model.paymentsSaved | number:'1.0-0'}}</div>
        <div class="h6 col-12 left">Value of Saved Payments: {{ model.paymentsSaved * model.monthlyPayment | currency
          }}</div>
        <div class="h6 col-12 left">Monthly Interest Saved: {{ model.interestSaved | currency }}</div>
        <div class="h6 col-12 left text-danger"><i class="fas fa-info-circle yellow" [ngbPopover]="ppBiWeeklyVPContent"
            popoverTitle="Weekly Advantage"></i> Added Vehicle Protection Purchase Power: {{ model.paymentsSaved *
          model.monthlyPayment + model.interestSaved | currency }}</div>
      </div>
      <div class="d-flex flex-column flex-sm-row flex-wrap align-items-center col-md-6 col-lg-5 col-xl-4">
        <p class="col-md-12 mt-sm-4"><button (click)="continue(3)" class="btn btn-primary mt-sm-5">
            <svg xmlns="http://www.w3.org/2000/svg" class="col-md-6" viewBox="0 0 585.5 228.8"><defs><style>.cls-1,.cls-2{stroke:#fff;stroke-miterlimit:10;}.cls-1{stroke-width:5px;}.cls-2{font-size:103.35px;font-family:Futura-Medium, Futura;letter-spacing:-0.06em;}.cls-3{letter-spacing:-0.06em;}.cls-4{letter-spacing:-0.06em;}.cls-5{letter-spacing:-0.07em;}.cls-6{letter-spacing:-0.06em;}.cls-7{letter-spacing:-0.06em;}.cls-8{letter-spacing:-0.05em;}.cls-9{letter-spacing:-0.06em;}.cls-10{letter-spacing:-0.06em;}.cls-11{letter-spacing:-0.06em;}.cls-12{letter-spacing:-0.05em;}</style></defs><title>monthlyAsset 6</title><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M35.14,46.55C32.93,60.54,31,73.09,29,85.62A98.44,98.44,0,0,1,26.1,99c-1.79,5.8-7.15,8.4-13.3,7-4.81-1.06-9-6.73-8.16-11.92q6.54-39.75,13.45-79.44C19.28,7.86,24,4.23,30.68,3.83c7.94-.47,13.58,2.68,15.91,9.47C51.67,28.08,56.49,43,61.44,57.79c.62,1.84,1.34,3.64,2.46,6.66,2-6.22,3.7-11.37,5.38-16.51,3.6-11,7-22,10.84-33C82.89,7,88.3,3.4,96,3.84c7.34.42,12.46,4.84,14,13.27,4.55,25.52,8.86,51.08,13.1,76.64A10.45,10.45,0,0,1,114.44,106c-7,1.1-12.42-2.41-13.67-9.34-2.41-13.33-4.6-26.69-6.88-40a29.54,29.54,0,0,0-2.25-8.06c-.57,1.48-1.22,2.93-1.7,4.44-4.57,14.62-9,29.28-13.71,43.86-2.14,6.66-5.91,9.43-12,9.52-5.6.09-9.59-2.8-11.78-9.17C47.25,82.15,42.25,67,37.16,51.85,36.72,50.51,36.16,49.22,35.14,46.55Z"/><path class="cls-1" d="M244.7,46.7c0,1.75,0,3.49,0,5.23-.17,14.41-.31,28.81-.54,43.21-.1,6.28-4.22,10.63-10.11,11-6.6.36-11.15-3.14-12.18-9.47a26.93,26.93,0,0,1-.22-4.41q0-37.8,0-75.62c0-8.71,4.75-13.82,12.41-12.54,3.13.52,6.54,3,8.65,5.52,13,15.61,25.58,31.51,38.32,47.3,1.59,2,3.22,3.9,4.83,5.84l1.21-.44c0-1.72,0-3.44,0-5.16.11-13.59.17-27.17.36-40.76.12-8,4.38-12.66,11.25-12.52s11.16,4.73,11.18,12.67q.09,38.55,0,77.09c0,6.31-2.67,10.86-7.25,12.13-5.51,1.53-9.72-.5-13.25-5-13.35-17-26.87-33.83-40.34-50.72-1-1.25-2.05-2.46-3.08-3.68Z"/><path class="cls-1" d="M119.92,54.88c-.6-28.45,17.76-45.24,35.89-50.35,30.83-8.69,60.13,11.38,62.93,43.23,1.37,15.57-.91,30.11-11.15,42.42-13.78,16.57-32,20.22-51.88,15.4-19.17-4.65-30-18.18-34.22-37.11C120.51,64,120.42,59.41,119.92,54.88Zm24.72-.38-1.21.34c1.87,6.51,3,13.35,5.77,19.46,3.91,8.63,11.45,12.8,21,12.67,9.35-.12,16.39-4.58,20.38-12.94a42.4,42.4,0,0,0,.05-37.9c-3.68-7.76-10.07-12.25-18.89-12.85-9.54-.65-16.85,3.14-22,11.1C145.81,40.49,144.43,47.31,144.64,54.5Z"/><path class="cls-1" d="M404.25,64.09c0,9.1,0,17.42,0,25.74,0,1.8,0,3.61-.15,5.4-.57,7.09-4.6,10.94-11.3,10.89a11.21,11.21,0,0,1-11.45-11c-.26-7,0-14.07,0-21.11q.17-29.21.36-58.43C381.8,8.33,386,3.9,392.64,3.84s11.22,4.26,11.48,11.38q.44,12,.19,24.05c-.06,3.48,1.14,4.5,4.53,4.45,11.29-.17,22.59-.22,33.87,0,3.86.09,4.65-1.37,4.61-4.85-.1-8,.08-16,.35-24,.23-6.62,5-11.09,11.3-11S470,8.13,470,14.58q.24,40.52-.05,81c-.05,6.44-4.89,10.54-11.15,10.52s-11-4.17-11.2-10.51q-.51-13.24-.32-26.51c.05-3.67-.76-5.19-4.86-5.1C430.05,64.27,417.64,64.09,404.25,64.09Z"/><path class="cls-1" d="M541.92,35.91c6.63-9,12.54-17.39,19-25.4a19.82,19.82,0,0,1,8.7-6.45C574.11,2.6,578.17,5,581,8.87s2.47,8.1,0,11.88c-3.29,5.06-7,9.88-10.59,14.72-4.61,6.14-9.58,12-13.9,18.38a18,18,0,0,0-2.94,8.86c-.55,10.93-.48,21.9-.83,32.85-.21,6.75-4.34,10.68-10.8,10.69-6.29,0-10.6-3.71-10.86-10.1-.47-11.43-.45-22.88-1-34.31a14.87,14.87,0,0,0-2.48-7.54C520.41,44,512.7,34,505.56,23.67a18.42,18.42,0,0,1-3.39-9.84c0-4.69,3.28-8.1,7.87-9.61,4.37-1.43,8.19,0,11,3.43,4.21,5.2,8.13,10.65,12.11,16C535.92,27.48,538.63,31.34,541.92,35.91Z"/><path class="cls-1" d="M333.87,25.34c-5.53,0-10.56.15-15.57,0-3.85-.15-7.52-1.79-8.31-5.66a18.15,18.15,0,0,1,1-10.13c.75-1.81,4.09-3.53,6.3-3.57,18.15-.31,36.32-.32,54.48-.2,5.93,0,9.7,4,9.76,9.37a10,10,0,0,1-9.33,10.18,42.08,42.08,0,0,1-9.31.2c-5.3-.68-6.11,1.69-6.11,6.4.05,21.11-.49,42.22-.43,63.34,0,9.87-10,13.27-16.72,9.58-3.68-2-5.07-5.28-5.11-9.36q-.28-31.66-.64-63.34C333.85,30.19,333.87,28.26,333.87,25.34Z"/><path class="cls-1" d="M495.77,84.58c8.74,0,16.88-.07,25,0,4.76.06,8,2.46,9.5,7s.16,8.46-3.6,11.26a9.65,9.65,0,0,1-5.38,1.94c-12.58-.07-25.16-.18-37.73-.73-6.23-.27-10.23-4.21-10.27-10.27q-.32-40.23,0-80.45c0-5.37,4.54-9.23,10-9.56s10.39,2.89,11.55,7.78a32.85,32.85,0,0,1,.82,7.26c.1,19.79.12,39.58.16,59.37Z"/><text class="cls-2" transform="translate(0.5 198.47)">p<tspan class="cls-3" x="55.28" y="0">a</tspan><tspan class="cls-4" x="111.12" y="0">y</tspan><tspan class="cls-5" x="161.17" y="0">m</tspan><tspan class="cls-6" x="236.07" y="0">e</tspan><tspan class="cls-7" x="286.57" y="0">n</tspan><tspan class="cls-8" x="336.99" y="0">t </tspan><tspan class="cls-9" x="386.8" y="0">p</tspan><tspan class="cls-10" x="442.19" y="0">l</tspan><tspan class="cls-11" x="461.38" y="0">a</tspan><tspan class="cls-12" x="516.86" y="0">n</tspan></text></g></g></svg>
            View Matching Vehicles <i class="fas fa-chevron-right"></i>
          </button></p>
        <div class="h5 col-sm-6 right">Monthly Payment:</div>
        <div class="h5 col-sm-6 col-xl-4 right">{{ model.monthlyPayment | currency }}</div>
        <div class="h5 col-sm-6 right">Purchasing Power:</div>
        <div class="h5 col-sm-6 col-xl-4 right">{{ model.monthlyPurchasePower | currency }}</div>
        <div class="h6 col-12 left mt-10">Contracted Term: {{ model.loanLength * 12 }} months</div>
        <div class="h6 col-12 left"><i class="fas fa-info-circle yellow" [ngbPopover]="ppBiWeeklyContent" popoverTitle="Weekly Advantage"></i>
          Effective Term: {{ model.loanLength * 12 }} months</div>
        <div class="h6 col-12 left"># of Monthly Payments Saved: N/A</div>
        <div class="h6 col-12 left">Value of Saved Payments: N/A</div>
        <div class="h6 col-12 left">Monthly Interest Saved: N/A</div>
        <div class="h6 col-12 left text-danger"><i class="fas fa-info-circle yellow" [ngbPopover]="ppBiWeeklyVPContent"
            popoverTitle="Weekly Advantage"></i> Added Vehicle Protection Purchase Power: N/A</div>
      </div>
      <ng-template #ppBiWeeklyContent>Paying weekly can shorten the length of your loan or help you buy a better
        vehicle.</ng-template>
      <ng-template #ppBiWeeklyVPContent>Paying weekly increases your purchasing power</ng-template>
      <hr class="col-12">
    </div>
    <p>
      <button (click)="back()" class="btn btn btn-secondary">
        <i class="fas fa-chevron-left"></i>
        Back
      </button>
    </p>
    <div class="d-flex align-items-center justify-content-center">
      <p class="col-6"><sup>*</sup>
        <b>Summary:</b> For a small $2.95 per transaction convenience fee,
        Smart Payment Plan is adding a 13th payment to your annual number of payments,
        and splitting your monthly payment into {{ model.selectedPeriod == 3 ? 52 : 26 }}
        (easier to budget) {{ model.selectedPeriod == 3 ? 'weekly' : 'bi-weekly' }} payments annually.
        You’ll eliminate late fees & be paying an extra {{ extraPayment | currency }} every two weeks
        to pay off your loan in {{ model.loanLength * 12 - model.paymentsSaved | number:'1.0-0'}} months instead of the
        typical
        {{ model.loanLength * 12 }} months. This also saves approximately {{ model.interestSaved | currency }} in loan
        interest in the process!
      </p>
    </div>
  </div>
</div>